1、取得每个部门最高薪水的人员名称
SELECT
	t.ename,
	n.dname,
	t.ms 
FROM
	(
	SELECT
		ENAME,
		b.DEPTNO,
		ms 
	FROM
		emp a
		JOIN ( SELECT DEPTNO, max( sal ) AS ms FROM emp GROUP BY DEPTNO ) b ON a.sal = b.ms 
		AND b.DEPTNO = a.DEPTNO 
	) AS t
	JOIN dept n ON t.DEPTNO = n.DEPTNO
  2.哪些人的薪水在部门的平均薪水之上
  SELECT
	a.DNAME,
	b.* 
FROM
	dept a
	JOIN (
	SELECT
		t.*,
		e.ename,
		e.sal 
	FROM
		emp e
		JOIN ( SELECT deptno, avg( sal ) AS avgsal FROM emp GROUP BY deptno ) t ON e.deptno = t.deptno 
	AND e.sal > t.avgsal 
	) b ON a.deptno = b.deptno
3、取得部门中平均薪水等级
SELECT
	dept.DNAME,
	e.grade,
	e.avgsal 
FROM
	dept
	JOIN (
	SELECT
		s.grade,
		d.deptno,
		d.avgsal 
	FROM
		salgrade s
		JOIN ( SELECT DEPTNO, avg( sal ) AS avgsal FROM emp GROUP BY DEPTNO ) d ON d.avgsal > s.losal 
	AND d.avgsal < s.HISAL 
	) e ON dept.DEPTNO = e.deptno
4、不准用组函数（Max ），取得最高薪水
第一种：SELECT sal from emp ORDER BY sal desc limit 0,1
第二种:SELECT e.sal from emp e where e.sal not in (select distinct a.sal from emp a join emp b on a.sal < b.sal)
